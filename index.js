"use strict";
/**
 * Created by user on 2018/1/31/031.
 */
Object.defineProperty(exports, "__esModule", { value: true });
const regexp_parser_event_1 = require("regexp-parser-event");
exports.ParserEventEmitter = regexp_parser_event_1.ParserEventEmitter;
exports.ParserEventEmitterEvent = regexp_parser_event_1.ParserEventEmitterEvent;
const regexp_support_1 = require("regexp-support");
const core_1 = require("./lib/core");
exports.parseRegularExpressionString = core_1.parseRegularExpressionString;
const RegexpHelper = require("regexp-helper");
const regexp_helper_1 = require("regexp-helper");
exports.isRegExp = regexp_helper_1.isRegExp;
/**
 * @deprecated
 */
exports.defaultOptions = {};
class zhRegExp extends RegExp {
    constructor(str, _flags = null, options = {}, ...argv) {
        let { source, flags } = core_1.coreHandler(str, _flags, options, ...argv);
        super(source, flags);
    }
    static create(str, flags = null, skip, ...argv) {
        return new this(str, flags, skip, ...argv);
    }
    getStatic() {
        return Object.getPrototypeOf(this);
    }
    /**
     * @todo
     */
    toRegularExpressionString() {
        return this.toString();
        //return `/${this.source}/${this.flags}`;
    }
    static parseRegularExpressionString(str) {
        return core_1.parseRegularExpressionString(str);
    }
    static get support() {
        return regexp_support_1.default;
    }
    static get version() {
        return require('./package.json').version;
    }
}
exports.zhRegExp = zhRegExp;
(function (zhRegExp) {
    zhRegExp.isRegExp = RegexpHelper.isRegExp;
})(zhRegExp = exports.zhRegExp || (exports.zhRegExp = {}));
exports.create = zhRegExp.create.bind(zhRegExp);
Object.defineProperty(exports, "version", {
    get() {
        return require('./package.json').version;
    }
});
exports.default = zhRegExp;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJpbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7O0dBRUc7O0FBSUgsNkRBQTJIO0FBVXpGLDZCQVZJLHdDQUFrQixDQVVKO0FBQTNDLGtDQVZpRCw2Q0FBdUIsQ0FVakQ7QUFUaEMsbURBQXNDO0FBRXRDLHFDQUErSjtBQXFINUksdUNBckhhLG1DQUE0QixDQXFIYjtBQXBIL0MsOENBQStDO0FBRy9DLGlEQUF5QztBQWlIaEMsbUJBakhBLHdCQUFRLENBaUhBO0FBeEdqQjs7R0FFRztBQUNVLFFBQUEsY0FBYyxHQUFhLEVBQUUsQ0FBQztBQUUzQyxNQUFhLFFBQVMsU0FBUSxNQUFNO0lBZ0RuQyxZQUFZLEdBQUcsRUFBRSxNQUFNLEdBQUcsSUFBSSxFQUFFLFVBQWtDLEVBQUUsRUFBRSxHQUFHLElBQUk7UUFFNUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUUsR0FBRyxrQkFBVyxDQUFDLEdBQUcsRUFBRSxNQUFNLEVBQUUsT0FBTyxFQUFFLEdBQUcsSUFBSSxDQUFDLENBQUM7UUFFbkUsS0FBSyxDQUFDLE1BQU0sRUFBRSxLQUFLLENBQUMsQ0FBQztJQUN0QixDQUFDO0lBSUQsTUFBTSxDQUFDLE1BQU0sQ0FBZSxHQUFHLEVBQUUsS0FBSyxHQUFHLElBQUksRUFBRSxJQUFLLEVBQUUsR0FBRyxJQUFJO1FBRTVELE9BQU8sSUFBSSxJQUFJLENBQUMsR0FBRyxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsR0FBRyxJQUFJLENBQUMsQ0FBQztJQUM1QyxDQUFDO0lBRUQsU0FBUztRQUVSLE9BQU8sTUFBTSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUNwQyxDQUFDO0lBRUQ7O09BRUc7SUFDSCx5QkFBeUI7UUFFeEIsT0FBTyxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7UUFDdkIseUNBQXlDO0lBQzFDLENBQUM7SUFFRCxNQUFNLENBQUMsNEJBQTRCLENBQUMsR0FBVztRQUU5QyxPQUFPLG1DQUE0QixDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQzFDLENBQUM7SUFFRCxNQUFNLEtBQUssT0FBTztRQUVqQixPQUFPLHdCQUFRLENBQUM7SUFDakIsQ0FBQztJQUVELE1BQU0sS0FBSyxPQUFPO1FBRWpCLE9BQU8sT0FBTyxDQUFDLGdCQUFnQixDQUFDLENBQUMsT0FBTyxDQUFBO0lBQ3pDLENBQUM7Q0FDRDtBQTFGRCw0QkEwRkM7QUFFRCxXQUFpQixRQUFRO0lBRVYsaUJBQVEsR0FBRyxZQUFZLENBQUMsUUFBUSxDQUFDO0FBQ2hELENBQUMsRUFIZ0IsUUFBUSxHQUFSLGdCQUFRLEtBQVIsZ0JBQVEsUUFHeEI7QUFFWSxRQUFBLE1BQU0sR0FBRyxRQUFRLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQTJCLENBQUM7QUFhL0UsTUFBTSxDQUFDLGNBQWMsQ0FBQyxPQUFPLEVBQUUsU0FBUyxFQUFFO0lBQ3pDLEdBQUc7UUFFRixPQUFPLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLE9BQU8sQ0FBQTtJQUN6QyxDQUFDO0NBQ0QsQ0FBQyxDQUFDO0FBRUgsa0JBQWUsUUFBUSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDcmVhdGVkIGJ5IHVzZXIgb24gMjAxOC8xLzMxLzAzMS5cbiAqL1xuXG5pbXBvcnQgeyBfd29yZF96aF9jb3JlLCBfd29yZF96aF9jb3JlMiwgemhUYWJsZUF1dG9HcmVlZHlUYWJsZSB9IGZyb20gJy4vbGliL2NvbnYnO1xuaW1wb3J0IHsgSUFzdFRvU3RyaW5nT3B0aW9ucywgcGFyc2VSZWdFeHAgfSBmcm9tICdyZWdleHAtcGFyc2VyLWxpdGVyYWwnO1xuaW1wb3J0IHsgSVBhcnNlckV2ZW50RW1pdHRlckxpc3RlbmVyLCBQYXJzZXJFdmVudEVtaXR0ZXIsIFBhcnNlckV2ZW50RW1pdHRlckV2ZW50LCBJTm9kZUlucHV0IH0gZnJvbSAncmVnZXhwLXBhcnNlci1ldmVudCc7XG5pbXBvcnQgX3N1cHBvcnQgZnJvbSAncmVnZXhwLXN1cHBvcnQnO1xuaW1wb3J0IHJlZ2V4cFJhbmdlIGZyb20gJ3JlZ2V4cC1yYW5nZSc7XG5pbXBvcnQgeyBjb3JlSGFuZGxlciwgSU9wdGlvbnMsIHBhcnNlUmVndWxhckV4cHJlc3Npb25TdHJpbmcsIElPcHRpb25zUnVudGltZSwgSU9wdGlvbnNJbnB1dCwgSUNvcmVIYW5kbGVyUmV0dXJuLCBJT3B0aW9uc09uLCBJT3B0aW9uc0NvcmUgfSBmcm9tICcuL2xpYi9jb3JlJztcbmltcG9ydCBSZWdleHBIZWxwZXIgPSByZXF1aXJlKCdyZWdleHAtaGVscGVyJyk7XG4vL2ltcG9ydCBQYWNrYWdlSnNvbiA9IHJlcXVpcmUoJy4vcGFja2FnZS5qc29uJyk7XG5pbXBvcnQgemhUYWJsZSA9IHJlcXVpcmUoJ2Nqay1jb252L2xpYi96aC90YWJsZS9pbmRleCcpO1xuaW1wb3J0IHsgaXNSZWdFeHAgfSBmcm9tICdyZWdleHAtaGVscGVyJztcbmltcG9ydCB7IElPcHRpb25zIGFzIElPcHRpb25zWmhUYWJsZSB9IGZyb20gJ2Nqay1jb252L2xpYi96aC90YWJsZS9pbmRleCc7XG5cbmV4cG9ydCB7IFBhcnNlckV2ZW50RW1pdHRlckV2ZW50LCBQYXJzZXJFdmVudEVtaXR0ZXIsIElOb2RlSW5wdXQsIElQYXJzZXJFdmVudEVtaXR0ZXJMaXN0ZW5lciwgSUFzdFRvU3RyaW5nT3B0aW9ucyB9XG5cbmV4cG9ydCB7IElPcHRpb25zLCBJT3B0aW9uc1J1bnRpbWUsIElPcHRpb25zSW5wdXQsIElDb3JlSGFuZGxlclJldHVybiwgSU9wdGlvbnNPbiwgSU9wdGlvbnNDb3JlIH1cblxuZXhwb3J0IHsgSU9wdGlvbnNaaFRhYmxlIH1cblxuLyoqXG4gKiBAZGVwcmVjYXRlZFxuICovXG5leHBvcnQgY29uc3QgZGVmYXVsdE9wdGlvbnM6IElPcHRpb25zID0ge307XG5cbmV4cG9ydCBjbGFzcyB6aFJlZ0V4cCBleHRlbmRzIFJlZ0V4cFxue1xuXHRwdWJsaWMgc291cmNlOiBzdHJpbmc7XG5cdHB1YmxpYyBmbGFnczogc3RyaW5nO1xuXG5cdHB1YmxpYyBkb3RBbGw6IGJvb2xlYW47XG5cblx0cHVibGljIGlnbm9yZUNhc2U6IGJvb2xlYW47XG5cdHB1YmxpYyBnbG9iYWw6IGJvb2xlYW47XG5cdHB1YmxpYyBtdWx0aWxpbmU6IGJvb2xlYW47XG5cdHB1YmxpYyBzdGlja3k6IGJvb2xlYW47XG5cdHB1YmxpYyB1bmljb2RlOiBib29sZWFuO1xuXG5cdHB1YmxpYyBsYXN0SW5kZXg6IG51bWJlcjtcblxuXHQvKipcblx0ICogVGhlIG5vbi1zdGFuZGFyZCBsZWZ0Q29udGV4dCBwcm9wZXJ0eSBpcyBhIHN0YXRpYyBhbmQgcmVhZC1vbmx5IHByb3BlcnR5IG9mIHJlZ3VsYXIgZXhwcmVzc2lvbnMgdGhhdCBjb250YWlucyB0aGUgc3Vic3RyaW5nIHByZWNlZGluZyB0aGUgbW9zdCByZWNlbnQgbWF0Y2guIFJlZ0V4cC4kYCBpcyBhbiBhbGlhcyBmb3IgdGhpcyBwcm9wZXJ0eS5cblx0ICpcblx0ICogQGFsaWFzICRgXG5cdCAqL1xuXHRwdWJsaWMgc3RhdGljIHJlYWRvbmx5IGxlZnRDb250ZXh0OiBzdHJpbmc7XG5cdC8qKlxuXHQgKiBUaGUgbm9uLXN0YW5kYXJkIHJpZ2h0Q29udGV4dCBwcm9wZXJ0eSBpcyBhIHN0YXRpYyBhbmQgcmVhZC1vbmx5IHByb3BlcnR5IG9mIHJlZ3VsYXIgZXhwcmVzc2lvbnMgdGhhdCBjb250YWlucyB0aGUgc3Vic3RyaW5nIGZvbGxvd2luZyB0aGUgbW9zdCByZWNlbnQgbWF0Y2guIFJlZ0V4cC4kJyBpcyBhbiBhbGlhcyBmb3IgdGhpcyBwcm9wZXJ0eS5cblx0ICpcblx0ICogQGFsaWFzICQnXG5cdCAqL1xuXHRwdWJsaWMgc3RhdGljIHJlYWRvbmx5IHJpZ2h0Q29udGV4dDogc3RyaW5nO1xuXHQvKipcblx0ICogVGhlIG5vbi1zdGFuZGFyZCBsYXN0UGFyZW4gcHJvcGVydHkgaXMgYSBzdGF0aWMgYW5kIHJlYWQtb25seSBwcm9wZXJ0eSBvZiByZWd1bGFyIGV4cHJlc3Npb25zIHRoYXQgY29udGFpbnMgdGhlIGxhc3QgcGFyZW50aGVzaXplZCBzdWJzdHJpbmcgbWF0Y2gsIGlmIGFueS4gUmVnRXhwLiQrIGlzIGFuIGFsaWFzIGZvciB0aGlzIHByb3BlcnR5LlxuXHQgKlxuXHQgKiBAYWxpYXMgJCtcblx0ICovXG5cdHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgbGFzdFBhcmVuOiBzdHJpbmc7XG5cdC8qKlxuXHQgKiBUaGUgbm9uLXN0YW5kYXJkIGxhc3RNYXRjaCBwcm9wZXJ0eSBpcyBhIHN0YXRpYyBhbmQgcmVhZC1vbmx5IHByb3BlcnR5IG9mIHJlZ3VsYXIgZXhwcmVzc2lvbnMgdGhhdCBjb250YWlucyB0aGUgbGFzdCBtYXRjaGVkIGNoYXJhY3RlcnMuIFJlZ0V4cC4kJiBpcyBhbiBhbGlhcyBmb3IgdGhpcyBwcm9wZXJ0eS5cblx0ICpcblx0ICogQGFsaWFzICQmXG5cdCAqL1xuXHRwdWJsaWMgc3RhdGljIHJlYWRvbmx5IGxhc3RNYXRjaDogc3RyaW5nO1xuXHQvKipcblx0ICogVGhlIG5vbi1zdGFuZGFyZCBpbnB1dCBwcm9wZXJ0eSBpcyBhIHN0YXRpYyBwcm9wZXJ0eSBvZiByZWd1bGFyIGV4cHJlc3Npb25zIHRoYXQgY29udGFpbnMgdGhlIHN0cmluZyBhZ2FpbnN0IHdoaWNoIGEgcmVndWxhciBleHByZXNzaW9uIGlzIG1hdGNoZWQuIFJlZ0V4cC4kXyBpcyBhbiBhbGlhcyBmb3IgdGhpcyBwcm9wZXJ0eS5cblx0ICpcblx0ICogQGFsaWFzICRfXG5cdCAqL1xuXHRwdWJsaWMgc3RhdGljIHJlYWRvbmx5IGlucHV0OiBzdHJpbmc7XG5cblx0Y29uc3RydWN0b3Ioc3RyOiBzdHJpbmcgfCBSZWdFeHAsIGZsYWdzPzogc3RyaW5nLCBvcHRpb25zPzogSU9wdGlvbnNJbnB1dCB8IHN0cmluZywgLi4uYXJndilcblx0Y29uc3RydWN0b3Ioc3RyOiBzdHJpbmcgfCBSZWdFeHAsIG9wdGlvbnM/OiBJT3B0aW9uc0lucHV0LCAuLi5hcmd2KVxuXHRjb25zdHJ1Y3RvcihzdHIsIF9mbGFncyA9IG51bGwsIG9wdGlvbnM6IElPcHRpb25zSW5wdXQgfCBzdHJpbmcgPSB7fSwgLi4uYXJndilcblx0e1xuXHRcdGxldCB7IHNvdXJjZSwgZmxhZ3MgfSA9IGNvcmVIYW5kbGVyKHN0ciwgX2ZsYWdzLCBvcHRpb25zLCAuLi5hcmd2KTtcblxuXHRcdHN1cGVyKHNvdXJjZSwgZmxhZ3MpO1xuXHR9XG5cblx0c3RhdGljIGNyZWF0ZTxUID0gemhSZWdFeHA+KHN0cjogc3RyaW5nIHwgUmVnRXhwLCBmbGFncz86IHN0cmluZywgb3B0aW9ucz86IElPcHRpb25zSW5wdXQgfCBzdHJpbmcpOiBUXG5cdHN0YXRpYyBjcmVhdGU8VCA9IHpoUmVnRXhwPihzdHI6IHN0cmluZyB8IFJlZ0V4cCwgb3B0aW9ucz86IElPcHRpb25zSW5wdXQpOiBUXG5cdHN0YXRpYyBjcmVhdGU8VCA9IHpoUmVnRXhwPihzdHIsIGZsYWdzID0gbnVsbCwgc2tpcD8sIC4uLmFyZ3YpXG5cdHtcblx0XHRyZXR1cm4gbmV3IHRoaXMoc3RyLCBmbGFncywgc2tpcCwgLi4uYXJndik7XG5cdH1cblxuXHRnZXRTdGF0aWM8VCA9IHR5cGVvZiB6aFJlZ0V4cD4oKTogVFxuXHR7XG5cdFx0cmV0dXJuIE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAdG9kb1xuXHQgKi9cblx0dG9SZWd1bGFyRXhwcmVzc2lvblN0cmluZygpXG5cdHtcblx0XHRyZXR1cm4gdGhpcy50b1N0cmluZygpO1xuXHRcdC8vcmV0dXJuIGAvJHt0aGlzLnNvdXJjZX0vJHt0aGlzLmZsYWdzfWA7XG5cdH1cblxuXHRzdGF0aWMgcGFyc2VSZWd1bGFyRXhwcmVzc2lvblN0cmluZyhzdHI6IHN0cmluZylcblx0e1xuXHRcdHJldHVybiBwYXJzZVJlZ3VsYXJFeHByZXNzaW9uU3RyaW5nKHN0cik7XG5cdH1cblxuXHRzdGF0aWMgZ2V0IHN1cHBvcnQoKTogdHlwZW9mIF9zdXBwb3J0XG5cdHtcblx0XHRyZXR1cm4gX3N1cHBvcnQ7XG5cdH1cblxuXHRzdGF0aWMgZ2V0IHZlcnNpb24oKTogc3RyaW5nXG5cdHtcblx0XHRyZXR1cm4gcmVxdWlyZSgnLi9wYWNrYWdlLmpzb24nKS52ZXJzaW9uXG5cdH1cbn1cblxuZXhwb3J0IG5hbWVzcGFjZSB6aFJlZ0V4cFxue1xuXHRleHBvcnQgaW1wb3J0IGlzUmVnRXhwID0gUmVnZXhwSGVscGVyLmlzUmVnRXhwO1xufVxuXG5leHBvcnQgY29uc3QgY3JlYXRlID0gemhSZWdFeHAuY3JlYXRlLmJpbmQoemhSZWdFeHApIGFzIHR5cGVvZiB6aFJlZ0V4cC5jcmVhdGU7XG5cbmV4cG9ydCB7IGlzUmVnRXhwLCBwYXJzZVJlZ3VsYXJFeHByZXNzaW9uU3RyaW5nIH1cblxuZXhwb3J0IGludGVyZmFjZSBJQXBpPFQgPSB6aFJlZ0V4cD5cbntcblx0KHN0cjogc3RyaW5nIHwgUmVnRXhwLCBmbGFncz86IHN0cmluZywgb3B0aW9ucz86IElPcHRpb25zIHwgc3RyaW5nKTogVCxcblx0KHN0cjogc3RyaW5nIHwgUmVnRXhwLCBvcHRpb25zPzogSU9wdGlvbnMpOiBULFxufVxuXG4vLyBAdHMtaWdub3JlXG5leHBvcnQgY29uc3QgdmVyc2lvbjogc3RyaW5nO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJ2ZXJzaW9uXCIsIHtcblx0Z2V0KClcblx0e1xuXHRcdHJldHVybiByZXF1aXJlKCcuL3BhY2thZ2UuanNvbicpLnZlcnNpb25cblx0fVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IHpoUmVnRXhwO1xuIl19