"use strict";
/// <reference lib="es2018.regexp" />
const _cloneRegexp = require("clone-regexp");
function execAll(inputRegExp, input, options) {
    let match;
    options = options || {};
    const { resetLastIndex = true, cloneRegexp = _cloneRegexp, removeHiddenData } = options;
    const matches = [];
    const re = cloneRegexp(inputRegExp);
    const isGlobal = re.global;
    if (resetLastIndex) {
        re.lastIndex = 0;
    }
    let lastIndex = 0;
    let { rightContext, leftContext } = options;
    rightContext = !!rightContext;
    leftContext = !!leftContext;
    while (match = re.exec(input)) {
        delete match.input;
        matches.push(Object.assign(match, {
            match: match[0],
            sub: match.slice(1),
            // @ts-ignore
            leftContext: leftContext && RegExp.leftContext,
            // @ts-ignore
            rightContext: rightContext && RegExp.rightContext,
            [SYMBOL]: removeHiddenData ? null : matches,
        }));
        lastIndex = re.lastIndex;
        if (!isGlobal) {
            break;
        }
    }
    if (!removeHiddenData) {
        Object.defineProperties(matches, {
            re: {
                value: re,
                enumerable: false,
                configurable: false,
                writable: false,
            },
            input: {
                value: input,
                enumerable: false,
                configurable: false,
                writable: false,
            },
            lastIndex: {
                value: lastIndex,
                enumerable: false,
                configurable: false,
                writable: false,
            },
        });
    }
    return matches;
}
const _execAll = execAll;
(function (execAll) {
    execAll.SYMBOL = Symbol.for('execall');
    // @ts-ignore
    function execall(...argv) {
        // @ts-ignore
        return _execAll(...argv);
    }
    execAll.execall = execall;
})(execAll || (execAll = {}));
var SYMBOL = execAll.SYMBOL;
execAll.default = execAll;
// @ts-ignore
execAll.execall = execAll;
Object.defineProperty(execAll, "__esModule", { value: true });
module.exports = execAll;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJpbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEscUNBQXFDO0FBQ3JDLDZDQUE4QztBQUU5QyxTQUFTLE9BQU8sQ0FBNEIsV0FBdUIsRUFDbEUsS0FBYSxFQUNiLE9BQTRCO0lBRzVCLElBQUksS0FBcUIsQ0FBQztJQUMxQixPQUFPLEdBQUcsT0FBTyxJQUFJLEVBQUUsQ0FBQztJQUV4QixNQUFNLEVBQUUsY0FBYyxHQUFHLElBQUksRUFBRSxXQUFXLEdBQUcsWUFBK0IsRUFBRSxnQkFBZ0IsRUFBRSxHQUFHLE9BQU8sQ0FBQztJQUUzRyxNQUFNLE9BQU8sR0FBRyxFQUFpQixDQUFDO0lBRWxDLE1BQU0sRUFBRSxHQUFJLFdBQStCLENBQUMsV0FBVyxDQUFDLENBQUM7SUFDekQsTUFBTSxRQUFRLEdBQUcsRUFBRSxDQUFDLE1BQU0sQ0FBQztJQUUzQixJQUFJLGNBQWMsRUFDbEI7UUFDQyxFQUFFLENBQUMsU0FBUyxHQUFHLENBQUMsQ0FBQztLQUNqQjtJQUVELElBQUksU0FBUyxHQUFHLENBQUMsQ0FBQztJQUVsQixJQUFJLEVBQUUsWUFBWSxFQUFFLFdBQVcsRUFBRSxHQUFHLE9BQU8sQ0FBQztJQUU1QyxZQUFZLEdBQUcsQ0FBQyxDQUFDLFlBQVksQ0FBQztJQUM5QixXQUFXLEdBQUcsQ0FBQyxDQUFDLFdBQVcsQ0FBQztJQUU1QixPQUFPLEtBQUssR0FBRyxFQUFFLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBbUIsRUFDL0M7UUFDQyxPQUFPLEtBQUssQ0FBQyxLQUFLLENBQUM7UUFFbkIsT0FBTyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBMkI7WUFDMUQsS0FBSyxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUM7WUFDZixHQUFHLEVBQUUsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7WUFFbkIsYUFBYTtZQUNiLFdBQVcsRUFBRSxXQUFXLElBQUksTUFBTSxDQUFDLFdBQVc7WUFDOUMsYUFBYTtZQUNiLFlBQVksRUFBRSxZQUFZLElBQUksTUFBTSxDQUFDLFlBQVk7WUFFakQsQ0FBQyxNQUFNLENBQUMsRUFBRSxnQkFBZ0IsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxPQUFPO1NBQzNDLENBQUMsQ0FBQyxDQUFDO1FBRUosU0FBUyxHQUFHLEVBQUUsQ0FBQyxTQUFTLENBQUM7UUFFekIsSUFBSSxDQUFDLFFBQVEsRUFDYjtZQUNDLE1BQU07U0FDTjtLQUNEO0lBRUQsSUFBSSxDQUFDLGdCQUFnQixFQUNyQjtRQUNDLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUU7WUFDaEMsRUFBRSxFQUFFO2dCQUNILEtBQUssRUFBRSxFQUFFO2dCQUNULFVBQVUsRUFBRSxLQUFLO2dCQUNqQixZQUFZLEVBQUUsS0FBSztnQkFDbkIsUUFBUSxFQUFFLEtBQUs7YUFDZjtZQUVELEtBQUssRUFBRTtnQkFDTixLQUFLLEVBQUUsS0FBSztnQkFDWixVQUFVLEVBQUUsS0FBSztnQkFDakIsWUFBWSxFQUFFLEtBQUs7Z0JBQ25CLFFBQVEsRUFBRSxLQUFLO2FBQ2Y7WUFFRCxTQUFTLEVBQUU7Z0JBQ1YsS0FBSyxFQUFFLFNBQVM7Z0JBQ2hCLFVBQVUsRUFBRSxLQUFLO2dCQUNqQixZQUFZLEVBQUUsS0FBSztnQkFDbkIsUUFBUSxFQUFFLEtBQUs7YUFDZjtTQUNELENBQUMsQ0FBQztLQUNIO0lBRUQsT0FBTyxPQUFPLENBQUM7QUFDaEIsQ0FBQztBQUVELE1BQU0sUUFBUSxHQUFHLE9BQU8sQ0FBQztBQVF6QixXQUFVLE9BQU87SUFFSCxjQUFNLEdBQUcsTUFBTSxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsQ0FBQztJQU01QyxhQUFhO0lBQ2IsU0FBZ0IsT0FBTyxDQUFDLEdBQUcsSUFBSTtRQUU5QixhQUFhO1FBQ2IsT0FBTyxRQUFRLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQTtJQUN6QixDQUFDO0lBSmUsZUFBTyxVQUl0QixDQUFBO0FBd0VGLENBQUMsRUFyRlMsT0FBTyxLQUFQLE9BQU8sUUFxRmhCO0FBRUQsSUFBTyxNQUFNLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQztBQUUvQixPQUFPLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztBQUMxQixhQUFhO0FBQ2IsT0FBTyxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUM7QUFFMUIsTUFBTSxDQUFDLGNBQWMsQ0FBQyxPQUFPLEVBQUUsWUFBWSxFQUFFLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxDQUFDLENBQUM7QUFFOUQsaUJBQVMsT0FBTyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLy8vIDxyZWZlcmVuY2UgbGliPVwiZXMyMDE4LnJlZ2V4cFwiIC8+XG5pbXBvcnQgX2Nsb25lUmVnZXhwID0gcmVxdWlyZSgnY2xvbmUtcmVnZXhwJyk7XG5cbmZ1bmN0aW9uIGV4ZWNBbGw8VCBleHRlbmRzIFJlZ0V4cCA9IFJlZ0V4cD4oaW5wdXRSZWdFeHA6IFQgfCBSZWdFeHAsXG5cdGlucHV0OiBzdHJpbmcsXG5cdG9wdGlvbnM/OiBJRXhlY0FsbE9wdGlvbnM8VD4sXG4pOiBJTWF0Y2hlczxUPlxue1xuXHRsZXQgbWF0Y2g6IElNYXRjaGVzUm93PFQ+O1xuXHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuXHRjb25zdCB7IHJlc2V0TGFzdEluZGV4ID0gdHJ1ZSwgY2xvbmVSZWdleHAgPSBfY2xvbmVSZWdleHAgYXMgSUNsb25lUmVnZXhwPFQ+LCByZW1vdmVIaWRkZW5EYXRhIH0gPSBvcHRpb25zO1xuXG5cdGNvbnN0IG1hdGNoZXMgPSBbXSBhcyBJTWF0Y2hlczxUPjtcblxuXHRjb25zdCByZSA9IChjbG9uZVJlZ2V4cCBhcyBJQ2xvbmVSZWdleHA8VD4pKGlucHV0UmVnRXhwKTtcblx0Y29uc3QgaXNHbG9iYWwgPSByZS5nbG9iYWw7XG5cblx0aWYgKHJlc2V0TGFzdEluZGV4KVxuXHR7XG5cdFx0cmUubGFzdEluZGV4ID0gMDtcblx0fVxuXG5cdGxldCBsYXN0SW5kZXggPSAwO1xuXG5cdGxldCB7IHJpZ2h0Q29udGV4dCwgbGVmdENvbnRleHQgfSA9IG9wdGlvbnM7XG5cblx0cmlnaHRDb250ZXh0ID0gISFyaWdodENvbnRleHQ7XG5cdGxlZnRDb250ZXh0ID0gISFsZWZ0Q29udGV4dDtcblxuXHR3aGlsZSAobWF0Y2ggPSByZS5leGVjKGlucHV0KSBhcyBJTWF0Y2hlc1JvdzxUPilcblx0e1xuXHRcdGRlbGV0ZSBtYXRjaC5pbnB1dDtcblxuXHRcdG1hdGNoZXMucHVzaChPYmplY3QuYXNzaWduKG1hdGNoLCA8UGFydGlhbDxJTWF0Y2hlc1JvdzxUPj4+e1xuXHRcdFx0bWF0Y2g6IG1hdGNoWzBdLFxuXHRcdFx0c3ViOiBtYXRjaC5zbGljZSgxKSxcblxuXHRcdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdFx0bGVmdENvbnRleHQ6IGxlZnRDb250ZXh0ICYmIFJlZ0V4cC5sZWZ0Q29udGV4dCxcblx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdHJpZ2h0Q29udGV4dDogcmlnaHRDb250ZXh0ICYmIFJlZ0V4cC5yaWdodENvbnRleHQsXG5cblx0XHRcdFtTWU1CT0xdOiByZW1vdmVIaWRkZW5EYXRhID8gbnVsbCA6IG1hdGNoZXMsXG5cdFx0fSkpO1xuXG5cdFx0bGFzdEluZGV4ID0gcmUubGFzdEluZGV4O1xuXG5cdFx0aWYgKCFpc0dsb2JhbClcblx0XHR7XG5cdFx0XHRicmVhaztcblx0XHR9XG5cdH1cblxuXHRpZiAoIXJlbW92ZUhpZGRlbkRhdGEpXG5cdHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydGllcyhtYXRjaGVzLCB7XG5cdFx0XHRyZToge1xuXHRcdFx0XHR2YWx1ZTogcmUsXG5cdFx0XHRcdGVudW1lcmFibGU6IGZhbHNlLFxuXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuXHRcdFx0XHR3cml0YWJsZTogZmFsc2UsXG5cdFx0XHR9LFxuXG5cdFx0XHRpbnB1dDoge1xuXHRcdFx0XHR2YWx1ZTogaW5wdXQsXG5cdFx0XHRcdGVudW1lcmFibGU6IGZhbHNlLFxuXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuXHRcdFx0XHR3cml0YWJsZTogZmFsc2UsXG5cdFx0XHR9LFxuXG5cdFx0XHRsYXN0SW5kZXg6IHtcblx0XHRcdFx0dmFsdWU6IGxhc3RJbmRleCxcblx0XHRcdFx0ZW51bWVyYWJsZTogZmFsc2UsXG5cdFx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG5cdFx0XHRcdHdyaXRhYmxlOiBmYWxzZSxcblx0XHRcdH0sXG5cdFx0fSk7XG5cdH1cblxuXHRyZXR1cm4gbWF0Y2hlcztcbn1cblxuY29uc3QgX2V4ZWNBbGwgPSBleGVjQWxsO1xuXG5pbXBvcnQgSUV4ZWNBbGxPcHRpb25zID0gZXhlY0FsbC5JRXhlY0FsbE9wdGlvbnM7XG5pbXBvcnQgSU1hdGNoZXMgPSBleGVjQWxsLklNYXRjaGVzO1xuaW1wb3J0IElFeGVjQWxsUmVnRXhwRXhlY0FycmF5ID0gZXhlY0FsbC5JRXhlY0FsbFJlZ0V4cEV4ZWNBcnJheTtcbmltcG9ydCBJQ2xvbmVSZWdleHAgPSBleGVjQWxsLklDbG9uZVJlZ2V4cDtcbmltcG9ydCBJTWF0Y2hlc1JvdyA9IGV4ZWNBbGwuSU1hdGNoZXNSb3c7XG5cbm5hbWVzcGFjZSBleGVjQWxsXG57XG5cdGV4cG9ydCBjb25zdCBTWU1CT0wgPSBTeW1ib2wuZm9yKCdleGVjYWxsJyk7XG5cblx0ZXhwb3J0IGZ1bmN0aW9uIGV4ZWNhbGw8VCBleHRlbmRzIFJlZ0V4cCA9IFJlZ0V4cD4oaW5wdXRSZWdFeHA6IFQgfCBSZWdFeHAsXG5cdFx0aW5wdXQ6IHN0cmluZyxcblx0XHRvcHRpb25zPzogSUV4ZWNBbGxPcHRpb25zPFQ+LFxuXHQpOiBJTWF0Y2hlczxUPlxuXHQvLyBAdHMtaWdub3JlXG5cdGV4cG9ydCBmdW5jdGlvbiBleGVjYWxsKC4uLmFyZ3YpXG5cdHtcblx0XHQvLyBAdHMtaWdub3JlXG5cdFx0cmV0dXJuIF9leGVjQWxsKC4uLmFyZ3YpXG5cdH1cblxuXHRleHBvcnQgaW50ZXJmYWNlIElFeGVjQWxsT3B0aW9uczxUIGV4dGVuZHMgUmVnRXhwID0gUmVnRXhwPlxuXHR7XG5cdFx0cmVzZXRMYXN0SW5kZXg/OiBib29sZWFuLFxuXHRcdC8qKlxuXHRcdCAqIGFsbG93IGNoYW5nZSBjbG9uZVJlZ2V4cCBmdW5jdGlvblxuXHRcdCAqL1xuXHRcdGNsb25lUmVnZXhwPzogSUNsb25lUmVnZXhwPFQ+LFxuXG5cdFx0LyoqXG5cdFx0ICogb25seSB1c2UgdGhpcyB3aGVuIHUga25vdyB3aGF0IHUgZG9pbmdcblx0XHQgKi9cblx0XHRsZWZ0Q29udGV4dD86IGJvb2xlYW4sXG5cdFx0cmlnaHRDb250ZXh0PzogYm9vbGVhbixcblxuXHRcdHJlbW92ZUhpZGRlbkRhdGE/OiBib29sZWFuLFxuXHR9XG5cblx0ZXhwb3J0IGludGVyZmFjZSBJQ2xvbmVSZWdleHA8VCBleHRlbmRzIFJlZ0V4cCA9IFJlZ0V4cD5cblx0e1xuXHRcdChpbnB1dFJlZ0V4cDogVCB8IFJlZ0V4cCwgLi4uYXJndik6IFRcblx0fVxuXG5cdGV4cG9ydCBpbnRlcmZhY2UgSUV4ZWNBbGxSZWdFeHBFeGVjQXJyYXk8VCBleHRlbmRzIFJlZ0V4cCA9IFJlZ0V4cD4gZXh0ZW5kcyBSZWdFeHBFeGVjQXJyYXlcblx0e1xuXG5cdFx0LyoqXG5cdFx0ICogVGhlIDAtYmFzZWQgaW5kZXggb2YgdGhlIG1hdGNoIGluIHRoZSBzdHJpbmcuXG5cdFx0ICovXG5cdFx0aW5kZXg6IG51bWJlcixcblx0XHQvL2lucHV0OiBzdHJpbmcsXG5cblx0XHQvKipcblx0XHQgKiBlczIwMThcblx0XHQgKi9cblx0XHRncm91cHM/OiB7XG5cdFx0XHRbazogc3RyaW5nXTogc3RyaW5nLFxuXHRcdH0sXG5cblx0XHRbU1lNQk9MXTogSU1hdGNoZXM8VD5cblx0fVxuXG5cdGV4cG9ydCBpbnRlcmZhY2UgSU1hdGNoZXNSb3c8VCBleHRlbmRzIFJlZ0V4cCA9IFJlZ0V4cD4gZXh0ZW5kcyBJRXhlY0FsbFJlZ0V4cEV4ZWNBcnJheTxUPlxuXHR7XG5cdFx0bWF0Y2g6IHN0cmluZyxcblx0XHRzdWI6IHN0cmluZ1tdLFxuXG5cdFx0bGVmdENvbnRleHQ/OiBzdHJpbmcsXG5cdFx0cmlnaHRDb250ZXh0Pzogc3RyaW5nLFxuXHR9XG5cblx0ZXhwb3J0IHR5cGUgSU1hdGNoZXM8VCBleHRlbmRzIFJlZ0V4cCA9IFJlZ0V4cD4gPSBJTWF0Y2hlc1JvdzxUPltdICYge1xuXHRcdC8qKlxuXHRcdCAqIHJlZ3VsYXIgZXhwcmVzc2lvbnNcblx0XHQgKlxuXHRcdCAqIEByZWFkb25seVxuXHRcdCAqL1xuXHRcdHJlYWRvbmx5IHJlOiBULFxuXHRcdC8qKlxuXHRcdCAqIHJlZ3VsYXIgZXhwcmVzc2lvbnMgdGhhdCBjb250YWlucyB0aGUgc3RyaW5nIGFnYWluc3Qgd2hpY2ggYSByZWd1bGFyIGV4cHJlc3Npb24gaXMgbWF0Y2hlZC5cblx0XHQgKlxuXHRcdCAqIEByZWFkb25seVxuXHRcdCAqL1xuXHRcdHJlYWRvbmx5IGlucHV0OiBzdHJpbmcsXG5cdFx0LyoqXG5cdFx0ICogbGFzdCBtYXRjaGVkIGluZGV4XG5cdFx0ICpcblx0XHQgKiBAcmVhZG9ubHlcblx0XHQgKi9cblx0XHRyZWFkb25seSBsYXN0SW5kZXg6IG51bWJlcixcblx0fTtcbn1cblxuaW1wb3J0IFNZTUJPTCA9IGV4ZWNBbGwuU1lNQk9MO1xuXG5leGVjQWxsLmRlZmF1bHQgPSBleGVjQWxsO1xuLy8gQHRzLWlnbm9yZVxuZXhlY0FsbC5leGVjYWxsID0gZXhlY0FsbDtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4ZWNBbGwsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuXG5leHBvcnQgPSBleGVjQWxsO1xuIl19