"use strict";
/**
 * Created by user on 2018/1/31/031.
 */
Object.defineProperty(exports, "__esModule", { value: true });
const regexp_parser_event_1 = require("regexp-parser-event");
exports.ParserEventEmitter = regexp_parser_event_1.ParserEventEmitter;
const regexp_support_1 = require("regexp-support");
const core_1 = require("./lib/core");
exports.parseRegularExpressionString = core_1.parseRegularExpressionString;
const RegexpHelper = require("regexp-helper");
const regexp_helper_1 = require("regexp-helper");
exports.isRegExp = regexp_helper_1.isRegExp;
/**
 * @deprecated
 */
exports.defaultOptions = {};
class zhRegExp extends RegExp {
    constructor(str, _flags = null, options = {}, ...argv) {
        let { source, flags } = core_1.coreHandler(str, _flags, options, ...argv);
        super(source, flags);
    }
    static create(str, flags = null, skip, ...argv) {
        return new this(str, flags, skip, ...argv);
    }
    getStatic() {
        return Object.getPrototypeOf(this);
    }
    /**
     * @todo
     */
    toRegularExpressionString() {
        return this.toString();
        //return `/${this.source}/${this.flags}`;
    }
    static parseRegularExpressionString(str) {
        return core_1.parseRegularExpressionString(str);
    }
    static get support() {
        return regexp_support_1.default;
    }
    static get version() {
        return require('./package.json').version;
    }
}
exports.zhRegExp = zhRegExp;
(function (zhRegExp) {
    zhRegExp.isRegExp = RegexpHelper.isRegExp;
})(zhRegExp = exports.zhRegExp || (exports.zhRegExp = {}));
exports.create = zhRegExp.create.bind(zhRegExp);
Object.defineProperty(exports, "version", {
    get() {
        return require('./package.json').version;
    }
});
exports.default = zhRegExp;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJpbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7O0dBRUc7O0FBSUgsNkRBQTJIO0FBVXpGLDZCQVZJLHdDQUFrQixDQVVKO0FBVHBELG1EQUFzQztBQUV0QyxxQ0FBK0o7QUFxSDVJLHVDQXJIYSxtQ0FBNEIsQ0FxSGI7QUFwSC9DLDhDQUErQztBQUcvQyxpREFBeUM7QUFpSGhDLG1CQWpIQSx3QkFBUSxDQWlIQTtBQXhHakI7O0dBRUc7QUFDVSxRQUFBLGNBQWMsR0FBYSxFQUFFLENBQUM7QUFFM0MsTUFBYSxRQUFTLFNBQVEsTUFBTTtJQWdEbkMsWUFBWSxHQUFHLEVBQUUsTUFBTSxHQUFHLElBQUksRUFBRSxVQUFrQyxFQUFFLEVBQUUsR0FBRyxJQUFJO1FBRTVFLElBQUksRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFLEdBQUcsa0JBQVcsQ0FBQyxHQUFHLEVBQUUsTUFBTSxFQUFFLE9BQU8sRUFBRSxHQUFHLElBQUksQ0FBQyxDQUFDO1FBRW5FLEtBQUssQ0FBQyxNQUFNLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDdEIsQ0FBQztJQUlELE1BQU0sQ0FBQyxNQUFNLENBQWUsR0FBRyxFQUFFLEtBQUssR0FBRyxJQUFJLEVBQUUsSUFBSyxFQUFFLEdBQUcsSUFBSTtRQUU1RCxPQUFPLElBQUksSUFBSSxDQUFDLEdBQUcsRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLEdBQUcsSUFBSSxDQUFDLENBQUM7SUFDNUMsQ0FBQztJQUVELFNBQVM7UUFFUixPQUFPLE1BQU0sQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDcEMsQ0FBQztJQUVEOztPQUVHO0lBQ0gseUJBQXlCO1FBRXhCLE9BQU8sSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQ3ZCLHlDQUF5QztJQUMxQyxDQUFDO0lBRUQsTUFBTSxDQUFDLDRCQUE0QixDQUFDLEdBQVc7UUFFOUMsT0FBTyxtQ0FBNEIsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUMxQyxDQUFDO0lBRUQsTUFBTSxLQUFLLE9BQU87UUFFakIsT0FBTyx3QkFBUSxDQUFDO0lBQ2pCLENBQUM7SUFFRCxNQUFNLEtBQUssT0FBTztRQUVqQixPQUFPLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLE9BQU8sQ0FBQTtJQUN6QyxDQUFDO0NBQ0Q7QUExRkQsNEJBMEZDO0FBRUQsV0FBaUIsUUFBUTtJQUVWLGlCQUFRLEdBQUcsWUFBWSxDQUFDLFFBQVEsQ0FBQztBQUNoRCxDQUFDLEVBSGdCLFFBQVEsR0FBUixnQkFBUSxLQUFSLGdCQUFRLFFBR3hCO0FBRVksUUFBQSxNQUFNLEdBQUcsUUFBUSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUEyQixDQUFDO0FBYS9FLE1BQU0sQ0FBQyxjQUFjLENBQUMsT0FBTyxFQUFFLFNBQVMsRUFBRTtJQUN6QyxHQUFHO1FBRUYsT0FBTyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxPQUFPLENBQUE7SUFDekMsQ0FBQztDQUNELENBQUMsQ0FBQztBQUVILGtCQUFlLFFBQVEsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ3JlYXRlZCBieSB1c2VyIG9uIDIwMTgvMS8zMS8wMzEuXG4gKi9cblxuaW1wb3J0IHsgX3dvcmRfemhfY29yZSwgX3dvcmRfemhfY29yZTIsIHpoVGFibGVBdXRvR3JlZWR5VGFibGUgfSBmcm9tICcuL2xpYi9jb252JztcbmltcG9ydCB7IElBc3RUb1N0cmluZ09wdGlvbnMsIHBhcnNlUmVnRXhwIH0gZnJvbSAncmVnZXhwLXBhcnNlci1saXRlcmFsJztcbmltcG9ydCB7IElQYXJzZXJFdmVudEVtaXR0ZXJMaXN0ZW5lciwgUGFyc2VyRXZlbnRFbWl0dGVyLCBQYXJzZXJFdmVudEVtaXR0ZXJFdmVudCwgSU5vZGVJbnB1dCB9IGZyb20gJ3JlZ2V4cC1wYXJzZXItZXZlbnQnO1xuaW1wb3J0IF9zdXBwb3J0IGZyb20gJ3JlZ2V4cC1zdXBwb3J0JztcbmltcG9ydCByZWdleHBSYW5nZSBmcm9tICdyZWdleHAtcmFuZ2UnO1xuaW1wb3J0IHsgY29yZUhhbmRsZXIsIElPcHRpb25zLCBwYXJzZVJlZ3VsYXJFeHByZXNzaW9uU3RyaW5nLCBJT3B0aW9uc1J1bnRpbWUsIElPcHRpb25zSW5wdXQsIElDb3JlSGFuZGxlclJldHVybiwgSU9wdGlvbnNPbiwgSU9wdGlvbnNDb3JlIH0gZnJvbSAnLi9saWIvY29yZSc7XG5pbXBvcnQgUmVnZXhwSGVscGVyID0gcmVxdWlyZSgncmVnZXhwLWhlbHBlcicpO1xuLy9pbXBvcnQgUGFja2FnZUpzb24gPSByZXF1aXJlKCcuL3BhY2thZ2UuanNvbicpO1xuaW1wb3J0IHpoVGFibGUgPSByZXF1aXJlKCdjamstY29udi9saWIvemgvdGFibGUvaW5kZXgnKTtcbmltcG9ydCB7IGlzUmVnRXhwIH0gZnJvbSAncmVnZXhwLWhlbHBlcic7XG5pbXBvcnQgeyBJT3B0aW9ucyBhcyBJT3B0aW9uc1poVGFibGUgfSBmcm9tICdjamstY29udi9saWIvemgvdGFibGUvaW5kZXgnO1xuXG5leHBvcnQgeyBQYXJzZXJFdmVudEVtaXR0ZXJFdmVudCwgUGFyc2VyRXZlbnRFbWl0dGVyLCBJTm9kZUlucHV0LCBJUGFyc2VyRXZlbnRFbWl0dGVyTGlzdGVuZXIsIElBc3RUb1N0cmluZ09wdGlvbnMgfVxuXG5leHBvcnQgeyBJT3B0aW9ucywgSU9wdGlvbnNSdW50aW1lLCBJT3B0aW9uc0lucHV0LCBJQ29yZUhhbmRsZXJSZXR1cm4sIElPcHRpb25zT24sIElPcHRpb25zQ29yZSB9XG5cbmV4cG9ydCB7IElPcHRpb25zWmhUYWJsZSB9XG5cbi8qKlxuICogQGRlcHJlY2F0ZWRcbiAqL1xuZXhwb3J0IGNvbnN0IGRlZmF1bHRPcHRpb25zOiBJT3B0aW9ucyA9IHt9O1xuXG5leHBvcnQgY2xhc3MgemhSZWdFeHAgZXh0ZW5kcyBSZWdFeHBcbntcblx0cHVibGljIHNvdXJjZTogc3RyaW5nO1xuXHRwdWJsaWMgZmxhZ3M6IHN0cmluZztcblxuXHRwdWJsaWMgZG90QWxsOiBib29sZWFuO1xuXG5cdHB1YmxpYyBpZ25vcmVDYXNlOiBib29sZWFuO1xuXHRwdWJsaWMgZ2xvYmFsOiBib29sZWFuO1xuXHRwdWJsaWMgbXVsdGlsaW5lOiBib29sZWFuO1xuXHRwdWJsaWMgc3RpY2t5OiBib29sZWFuO1xuXHRwdWJsaWMgdW5pY29kZTogYm9vbGVhbjtcblxuXHRwdWJsaWMgbGFzdEluZGV4OiBudW1iZXI7XG5cblx0LyoqXG5cdCAqIFRoZSBub24tc3RhbmRhcmQgbGVmdENvbnRleHQgcHJvcGVydHkgaXMgYSBzdGF0aWMgYW5kIHJlYWQtb25seSBwcm9wZXJ0eSBvZiByZWd1bGFyIGV4cHJlc3Npb25zIHRoYXQgY29udGFpbnMgdGhlIHN1YnN0cmluZyBwcmVjZWRpbmcgdGhlIG1vc3QgcmVjZW50IG1hdGNoLiBSZWdFeHAuJGAgaXMgYW4gYWxpYXMgZm9yIHRoaXMgcHJvcGVydHkuXG5cdCAqXG5cdCAqIEBhbGlhcyAkYFxuXHQgKi9cblx0cHVibGljIHN0YXRpYyByZWFkb25seSBsZWZ0Q29udGV4dDogc3RyaW5nO1xuXHQvKipcblx0ICogVGhlIG5vbi1zdGFuZGFyZCByaWdodENvbnRleHQgcHJvcGVydHkgaXMgYSBzdGF0aWMgYW5kIHJlYWQtb25seSBwcm9wZXJ0eSBvZiByZWd1bGFyIGV4cHJlc3Npb25zIHRoYXQgY29udGFpbnMgdGhlIHN1YnN0cmluZyBmb2xsb3dpbmcgdGhlIG1vc3QgcmVjZW50IG1hdGNoLiBSZWdFeHAuJCcgaXMgYW4gYWxpYXMgZm9yIHRoaXMgcHJvcGVydHkuXG5cdCAqXG5cdCAqIEBhbGlhcyAkJ1xuXHQgKi9cblx0cHVibGljIHN0YXRpYyByZWFkb25seSByaWdodENvbnRleHQ6IHN0cmluZztcblx0LyoqXG5cdCAqIFRoZSBub24tc3RhbmRhcmQgbGFzdFBhcmVuIHByb3BlcnR5IGlzIGEgc3RhdGljIGFuZCByZWFkLW9ubHkgcHJvcGVydHkgb2YgcmVndWxhciBleHByZXNzaW9ucyB0aGF0IGNvbnRhaW5zIHRoZSBsYXN0IHBhcmVudGhlc2l6ZWQgc3Vic3RyaW5nIG1hdGNoLCBpZiBhbnkuIFJlZ0V4cC4kKyBpcyBhbiBhbGlhcyBmb3IgdGhpcyBwcm9wZXJ0eS5cblx0ICpcblx0ICogQGFsaWFzICQrXG5cdCAqL1xuXHRwdWJsaWMgc3RhdGljIHJlYWRvbmx5IGxhc3RQYXJlbjogc3RyaW5nO1xuXHQvKipcblx0ICogVGhlIG5vbi1zdGFuZGFyZCBsYXN0TWF0Y2ggcHJvcGVydHkgaXMgYSBzdGF0aWMgYW5kIHJlYWQtb25seSBwcm9wZXJ0eSBvZiByZWd1bGFyIGV4cHJlc3Npb25zIHRoYXQgY29udGFpbnMgdGhlIGxhc3QgbWF0Y2hlZCBjaGFyYWN0ZXJzLiBSZWdFeHAuJCYgaXMgYW4gYWxpYXMgZm9yIHRoaXMgcHJvcGVydHkuXG5cdCAqXG5cdCAqIEBhbGlhcyAkJlxuXHQgKi9cblx0cHVibGljIHN0YXRpYyByZWFkb25seSBsYXN0TWF0Y2g6IHN0cmluZztcblx0LyoqXG5cdCAqIFRoZSBub24tc3RhbmRhcmQgaW5wdXQgcHJvcGVydHkgaXMgYSBzdGF0aWMgcHJvcGVydHkgb2YgcmVndWxhciBleHByZXNzaW9ucyB0aGF0IGNvbnRhaW5zIHRoZSBzdHJpbmcgYWdhaW5zdCB3aGljaCBhIHJlZ3VsYXIgZXhwcmVzc2lvbiBpcyBtYXRjaGVkLiBSZWdFeHAuJF8gaXMgYW4gYWxpYXMgZm9yIHRoaXMgcHJvcGVydHkuXG5cdCAqXG5cdCAqIEBhbGlhcyAkX1xuXHQgKi9cblx0cHVibGljIHN0YXRpYyByZWFkb25seSBpbnB1dDogc3RyaW5nO1xuXG5cdGNvbnN0cnVjdG9yKHN0cjogc3RyaW5nIHwgUmVnRXhwLCBmbGFncz86IHN0cmluZywgb3B0aW9ucz86IElPcHRpb25zSW5wdXQgfCBzdHJpbmcsIC4uLmFyZ3YpXG5cdGNvbnN0cnVjdG9yKHN0cjogc3RyaW5nIHwgUmVnRXhwLCBvcHRpb25zPzogSU9wdGlvbnNJbnB1dCwgLi4uYXJndilcblx0Y29uc3RydWN0b3Ioc3RyLCBfZmxhZ3MgPSBudWxsLCBvcHRpb25zOiBJT3B0aW9uc0lucHV0IHwgc3RyaW5nID0ge30sIC4uLmFyZ3YpXG5cdHtcblx0XHRsZXQgeyBzb3VyY2UsIGZsYWdzIH0gPSBjb3JlSGFuZGxlcihzdHIsIF9mbGFncywgb3B0aW9ucywgLi4uYXJndik7XG5cblx0XHRzdXBlcihzb3VyY2UsIGZsYWdzKTtcblx0fVxuXG5cdHN0YXRpYyBjcmVhdGU8VCA9IHpoUmVnRXhwPihzdHI6IHN0cmluZyB8IFJlZ0V4cCwgZmxhZ3M/OiBzdHJpbmcsIG9wdGlvbnM/OiBJT3B0aW9uc0lucHV0IHwgc3RyaW5nKTogVFxuXHRzdGF0aWMgY3JlYXRlPFQgPSB6aFJlZ0V4cD4oc3RyOiBzdHJpbmcgfCBSZWdFeHAsIG9wdGlvbnM/OiBJT3B0aW9uc0lucHV0KTogVFxuXHRzdGF0aWMgY3JlYXRlPFQgPSB6aFJlZ0V4cD4oc3RyLCBmbGFncyA9IG51bGwsIHNraXA/LCAuLi5hcmd2KVxuXHR7XG5cdFx0cmV0dXJuIG5ldyB0aGlzKHN0ciwgZmxhZ3MsIHNraXAsIC4uLmFyZ3YpO1xuXHR9XG5cblx0Z2V0U3RhdGljPFQgPSB0eXBlb2YgemhSZWdFeHA+KCk6IFRcblx0e1xuXHRcdHJldHVybiBPYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpcyk7XG5cdH1cblxuXHQvKipcblx0ICogQHRvZG9cblx0ICovXG5cdHRvUmVndWxhckV4cHJlc3Npb25TdHJpbmcoKVxuXHR7XG5cdFx0cmV0dXJuIHRoaXMudG9TdHJpbmcoKTtcblx0XHQvL3JldHVybiBgLyR7dGhpcy5zb3VyY2V9LyR7dGhpcy5mbGFnc31gO1xuXHR9XG5cblx0c3RhdGljIHBhcnNlUmVndWxhckV4cHJlc3Npb25TdHJpbmcoc3RyOiBzdHJpbmcpXG5cdHtcblx0XHRyZXR1cm4gcGFyc2VSZWd1bGFyRXhwcmVzc2lvblN0cmluZyhzdHIpO1xuXHR9XG5cblx0c3RhdGljIGdldCBzdXBwb3J0KCk6IHR5cGVvZiBfc3VwcG9ydFxuXHR7XG5cdFx0cmV0dXJuIF9zdXBwb3J0O1xuXHR9XG5cblx0c3RhdGljIGdldCB2ZXJzaW9uKCk6IHN0cmluZ1xuXHR7XG5cdFx0cmV0dXJuIHJlcXVpcmUoJy4vcGFja2FnZS5qc29uJykudmVyc2lvblxuXHR9XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgemhSZWdFeHBcbntcblx0ZXhwb3J0IGltcG9ydCBpc1JlZ0V4cCA9IFJlZ2V4cEhlbHBlci5pc1JlZ0V4cDtcbn1cblxuZXhwb3J0IGNvbnN0IGNyZWF0ZSA9IHpoUmVnRXhwLmNyZWF0ZS5iaW5kKHpoUmVnRXhwKSBhcyB0eXBlb2YgemhSZWdFeHAuY3JlYXRlO1xuXG5leHBvcnQgeyBpc1JlZ0V4cCwgcGFyc2VSZWd1bGFyRXhwcmVzc2lvblN0cmluZyB9XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUFwaTxUID0gemhSZWdFeHA+XG57XG5cdChzdHI6IHN0cmluZyB8IFJlZ0V4cCwgZmxhZ3M/OiBzdHJpbmcsIG9wdGlvbnM/OiBJT3B0aW9ucyB8IHN0cmluZyk6IFQsXG5cdChzdHI6IHN0cmluZyB8IFJlZ0V4cCwgb3B0aW9ucz86IElPcHRpb25zKTogVCxcbn1cblxuLy8gQHRzLWlnbm9yZVxuZXhwb3J0IGNvbnN0IHZlcnNpb246IHN0cmluZztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwidmVyc2lvblwiLCB7XG5cdGdldCgpXG5cdHtcblx0XHRyZXR1cm4gcmVxdWlyZSgnLi9wYWNrYWdlLmpzb24nKS52ZXJzaW9uXG5cdH1cbn0pO1xuXG5leHBvcnQgZGVmYXVsdCB6aFJlZ0V4cDtcbiJdfQ==