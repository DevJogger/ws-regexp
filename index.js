"use strict";
/**
 * Created by user on 2018/1/31/031.
 */
Object.defineProperty(exports, "__esModule", { value: true });
const regexp_parser_event_1 = require("regexp-parser-event");
exports.ParserEventEmitter = regexp_parser_event_1.ParserEventEmitter;
const core_1 = require("./lib/core");
exports.parseRegularExpressionString = core_1.parseRegularExpressionString;
const regexp_helper_1 = require("regexp-helper");
exports.isRegExp = regexp_helper_1.isRegExp;
const index_1 = require("cjk-conv/lib/zh/table/index");
exports.IOptionsZhTable = index_1.IOptions;
const RegexpHelper = require("regexp-helper");
const mergeOptions_1 = require("./lib/mergeOptions");
/**
 * @deprecated
 */
exports.defaultOptions = {};
class zhRegExp extends RegExp {
    constructor(str, _flags = null, options = {}, ...argv) {
        let { source, flags } = core_1.coreHandler(str, _flags, options, ...argv);
        super(source, flags);
    }
    /**
     * create a new zhRegExp class with default value
     * @example `zhRegExp.use(defaultOptions)`
     */
    static use(defaultOptions) {
        defaultOptions = mergeOptions_1.default({}, this[core_1.SymDefaults], defaultOptions);
        const zhRegExpNew = new Proxy(zhRegExp, {
            // @ts-ignore
            construct(target, argArray, newTarget) {
                let { str, flags, options, argv } = mergeOptions_1.getSettingOptions(...argArray);
                options = mergeOptions_1.default({}, defaultOptions, options);
                return new zhRegExp(str, flags, options, ...argv);
            },
            // @ts-ignore
            get(target, key) {
                if (key === core_1.SymDefaults) {
                    return defaultOptions;
                }
                return target[key];
            },
        });
        return zhRegExpNew;
    }
    static create(str, flags = null, skip, ...argv) {
        return new this(str, flags, skip, ...argv);
    }
    getStatic() {
        return Object.getPrototypeOf(this);
    }
    /**
     * @todo
     */
    toRegularExpressionString() {
        return this.toString();
        //return `/${this.source}/${this.flags}`;
    }
    static parseRegularExpressionString(str) {
        return core_1.parseRegularExpressionString(str);
    }
    static get support() {
        return require('regexp-support').default;
    }
    static get version() {
        return require('./package.json').version;
    }
}
exports.zhRegExp = zhRegExp;
(function (zhRegExp) {
    zhRegExp.isRegExp = RegexpHelper.isRegExp;
})(zhRegExp = exports.zhRegExp || (exports.zhRegExp = {}));
exports.create = zhRegExp.create.bind(zhRegExp);
Object.defineProperty(exports, "version", {
    get() {
        return require('./package.json').version;
    }
});
exports.default = zhRegExp;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJpbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7O0dBRUc7O0FBR0gsNkRBSzZCO0FBbUJLLDZCQXJCakMsd0NBQWtCLENBcUJpQztBQWpCcEQscUNBVW9CO0FBNkpELHVDQS9KbEIsbUNBQTRCLENBK0prQjtBQTVKL0MsaURBQXlDO0FBNEpoQyxtQkE1SkEsd0JBQVEsQ0E0SkE7QUEzSmpCLHVEQUEwRTtBQVNqRSwwQkFUWSxnQkFBZSxDQVNaO0FBUHhCLDhDQUErQztBQUMvQyxxREFBcUU7QUFRckU7O0dBRUc7QUFDVSxRQUFBLGNBQWMsR0FBYSxFQUFFLENBQUM7QUFFM0MsTUFBYSxRQUFTLFNBQVEsTUFBTTtJQXdGbkMsWUFBWSxHQUFHLEVBQUUsTUFBTSxHQUFHLElBQUksRUFBRSxVQUFrQyxFQUFFLEVBQUUsR0FBRyxJQUFJO1FBRTVFLElBQUksRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFLEdBQUcsa0JBQVcsQ0FBQyxHQUFHLEVBQUUsTUFBTSxFQUFFLE9BQU8sRUFBRSxHQUFHLElBQUksQ0FBQyxDQUFDO1FBRW5FLEtBQUssQ0FBQyxNQUFNLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDdEIsQ0FBQztJQTFDRDs7O09BR0c7SUFDSCxNQUFNLENBQUMsR0FBRyxDQUFDLGNBQTZCO1FBRXZDLGNBQWMsR0FBRyxzQkFBWSxDQUFDLEVBQUUsRUFBRSxJQUFJLENBQUMsa0JBQVcsQ0FBQyxFQUFFLGNBQWMsQ0FBQyxDQUFDO1FBRXJFLE1BQU0sV0FBVyxHQUFHLElBQUksS0FBSyxDQUFDLFFBQVEsRUFBRTtZQUN2QyxhQUFhO1lBQ2IsU0FBUyxDQUFDLE1BQXVCLEVBQUUsUUFBaUIsRUFBRSxTQUFlO2dCQUVwRSxJQUFJLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFFLEdBQUcsZ0NBQWlCLENBQUMsR0FBRyxRQUFzQixDQUFDLENBQUM7Z0JBRWpGLE9BQU8sR0FBRyxzQkFBWSxDQUFDLEVBQUUsRUFBRSxjQUFjLEVBQUUsT0FBTyxDQUFDLENBQUM7Z0JBRXBELE9BQU8sSUFBSSxRQUFRLENBQUMsR0FBRyxFQUFFLEtBQUssRUFBRSxPQUFPLEVBQUUsR0FBRyxJQUFJLENBQUMsQ0FBQztZQUNuRCxDQUFDO1lBRUQsYUFBYTtZQUNiLEdBQUcsQ0FBQyxNQUFzQixFQUFFLEdBQXVDO2dCQUVsRSxJQUFJLEdBQUcsS0FBSyxrQkFBVyxFQUN2QjtvQkFDQyxPQUFPLGNBQWMsQ0FBQTtpQkFDckI7Z0JBRUQsT0FBTyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDcEIsQ0FBQztTQUVELENBQUMsQ0FBQztRQUVILE9BQU8sV0FBVyxDQUFBO0lBQ25CLENBQUM7SUFhRCxNQUFNLENBQUMsTUFBTSxDQUFlLEdBQUcsRUFBRSxLQUFLLEdBQUcsSUFBSSxFQUFFLElBQUssRUFBRSxHQUFHLElBQUk7UUFFNUQsT0FBTyxJQUFJLElBQUksQ0FBQyxHQUFHLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxHQUFHLElBQUksQ0FBQyxDQUFDO0lBQzVDLENBQUM7SUFFRCxTQUFTO1FBRVIsT0FBTyxNQUFNLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ3BDLENBQUM7SUFFRDs7T0FFRztJQUNILHlCQUF5QjtRQUV4QixPQUFPLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUN2Qix5Q0FBeUM7SUFDMUMsQ0FBQztJQUVELE1BQU0sQ0FBQyw0QkFBNEIsQ0FBQyxHQUFXO1FBRTlDLE9BQU8sbUNBQTRCLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDMUMsQ0FBQztJQUVELE1BQU0sS0FBSyxPQUFPO1FBRWpCLE9BQU8sT0FBTyxDQUFDLGdCQUFnQixDQUFDLENBQUMsT0FBa0QsQ0FBQztJQUNyRixDQUFDO0lBRUQsTUFBTSxLQUFLLE9BQU87UUFFakIsT0FBTyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxPQUFPLENBQUE7SUFDekMsQ0FBQztDQUNEO0FBbElELDRCQWtJQztBQUVELFdBQWlCLFFBQVE7SUFFVixpQkFBUSxHQUFHLFlBQVksQ0FBQyxRQUFRLENBQUM7QUFDaEQsQ0FBQyxFQUhnQixRQUFRLEdBQVIsZ0JBQVEsS0FBUixnQkFBUSxRQUd4QjtBQUVZLFFBQUEsTUFBTSxHQUFHLFFBQVEsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBMkIsQ0FBQztBQWEvRSxNQUFNLENBQUMsY0FBYyxDQUFDLE9BQU8sRUFBRSxTQUFTLEVBQUU7SUFDekMsR0FBRztRQUVGLE9BQU8sT0FBTyxDQUFDLGdCQUFnQixDQUFDLENBQUMsT0FBTyxDQUFBO0lBQ3pDLENBQUM7Q0FDRCxDQUFDLENBQUM7QUFFSCxrQkFBZSxRQUFRLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENyZWF0ZWQgYnkgdXNlciBvbiAyMDE4LzEvMzEvMDMxLlxuICovXG5cbmltcG9ydCB7IElBc3RUb1N0cmluZ09wdGlvbnMgfSBmcm9tICdyZWdleHAtcGFyc2VyLWxpdGVyYWwnO1xuaW1wb3J0IHtcblx0SU5vZGVJbnB1dCxcblx0SVBhcnNlckV2ZW50RW1pdHRlckxpc3RlbmVyLFxuXHRQYXJzZXJFdmVudEVtaXR0ZXIsXG5cdFBhcnNlckV2ZW50RW1pdHRlckV2ZW50LFxufSBmcm9tICdyZWdleHAtcGFyc2VyLWV2ZW50JztcbmltcG9ydCBfc3VwcG9ydCBmcm9tICdyZWdleHAtc3VwcG9ydCc7XG5pbXBvcnQge1xuXHRjb3JlSGFuZGxlcixcblx0SUNvcmVIYW5kbGVyUmV0dXJuLFxuXHRJT3B0aW9ucyxcblx0SU9wdGlvbnNDb3JlLFxuXHRJT3B0aW9uc0lucHV0LFxuXHRJT3B0aW9uc09uLFxuXHRJT3B0aW9uc1J1bnRpbWUsXG5cdHBhcnNlUmVndWxhckV4cHJlc3Npb25TdHJpbmcsXG5cdFN5bURlZmF1bHRzLFxufSBmcm9tICcuL2xpYi9jb3JlJztcbmltcG9ydCB7IGlzUmVnRXhwIH0gZnJvbSAncmVnZXhwLWhlbHBlcic7XG5pbXBvcnQgeyBJT3B0aW9ucyBhcyBJT3B0aW9uc1poVGFibGUgfSBmcm9tICdjamstY29udi9saWIvemgvdGFibGUvaW5kZXgnO1xuaW1wb3J0IG1lcmdlIGZyb20gJ2xvZGFzaC9tZXJnZSc7XG5pbXBvcnQgUmVnZXhwSGVscGVyID0gcmVxdWlyZSgncmVnZXhwLWhlbHBlcicpO1xuaW1wb3J0IG1lcmdlT3B0aW9ucywgeyBnZXRTZXR0aW5nT3B0aW9ucyB9IGZyb20gJy4vbGliL21lcmdlT3B0aW9ucyc7XG5cbmV4cG9ydCB7IFBhcnNlckV2ZW50RW1pdHRlckV2ZW50LCBQYXJzZXJFdmVudEVtaXR0ZXIsIElOb2RlSW5wdXQsIElQYXJzZXJFdmVudEVtaXR0ZXJMaXN0ZW5lciwgSUFzdFRvU3RyaW5nT3B0aW9ucyB9XG5cbmV4cG9ydCB7IElPcHRpb25zLCBJT3B0aW9uc1J1bnRpbWUsIElPcHRpb25zSW5wdXQsIElDb3JlSGFuZGxlclJldHVybiwgSU9wdGlvbnNPbiwgSU9wdGlvbnNDb3JlIH1cblxuZXhwb3J0IHsgSU9wdGlvbnNaaFRhYmxlIH1cblxuLyoqXG4gKiBAZGVwcmVjYXRlZFxuICovXG5leHBvcnQgY29uc3QgZGVmYXVsdE9wdGlvbnM6IElPcHRpb25zID0ge307XG5cbmV4cG9ydCBjbGFzcyB6aFJlZ0V4cCBleHRlbmRzIFJlZ0V4cFxue1xuXHRwdWJsaWMgc291cmNlOiBzdHJpbmc7XG5cdHB1YmxpYyBmbGFnczogc3RyaW5nO1xuXG5cdHB1YmxpYyBkb3RBbGw6IGJvb2xlYW47XG5cblx0cHVibGljIGlnbm9yZUNhc2U6IGJvb2xlYW47XG5cdHB1YmxpYyBnbG9iYWw6IGJvb2xlYW47XG5cdHB1YmxpYyBtdWx0aWxpbmU6IGJvb2xlYW47XG5cdHB1YmxpYyBzdGlja3k6IGJvb2xlYW47XG5cdHB1YmxpYyB1bmljb2RlOiBib29sZWFuO1xuXG5cdHB1YmxpYyBsYXN0SW5kZXg6IG51bWJlcjtcblxuXHQvKipcblx0ICogVGhlIG5vbi1zdGFuZGFyZCBsZWZ0Q29udGV4dCBwcm9wZXJ0eSBpcyBhIHN0YXRpYyBhbmQgcmVhZC1vbmx5IHByb3BlcnR5IG9mIHJlZ3VsYXIgZXhwcmVzc2lvbnMgdGhhdCBjb250YWlucyB0aGUgc3Vic3RyaW5nIHByZWNlZGluZyB0aGUgbW9zdCByZWNlbnQgbWF0Y2guIFJlZ0V4cC4kYCBpcyBhbiBhbGlhcyBmb3IgdGhpcyBwcm9wZXJ0eS5cblx0ICpcblx0ICogQGFsaWFzICRgXG5cdCAqL1xuXHRwdWJsaWMgc3RhdGljIHJlYWRvbmx5IGxlZnRDb250ZXh0OiBzdHJpbmc7XG5cdC8qKlxuXHQgKiBUaGUgbm9uLXN0YW5kYXJkIHJpZ2h0Q29udGV4dCBwcm9wZXJ0eSBpcyBhIHN0YXRpYyBhbmQgcmVhZC1vbmx5IHByb3BlcnR5IG9mIHJlZ3VsYXIgZXhwcmVzc2lvbnMgdGhhdCBjb250YWlucyB0aGUgc3Vic3RyaW5nIGZvbGxvd2luZyB0aGUgbW9zdCByZWNlbnQgbWF0Y2guIFJlZ0V4cC4kJyBpcyBhbiBhbGlhcyBmb3IgdGhpcyBwcm9wZXJ0eS5cblx0ICpcblx0ICogQGFsaWFzICQnXG5cdCAqL1xuXHRwdWJsaWMgc3RhdGljIHJlYWRvbmx5IHJpZ2h0Q29udGV4dDogc3RyaW5nO1xuXHQvKipcblx0ICogVGhlIG5vbi1zdGFuZGFyZCBsYXN0UGFyZW4gcHJvcGVydHkgaXMgYSBzdGF0aWMgYW5kIHJlYWQtb25seSBwcm9wZXJ0eSBvZiByZWd1bGFyIGV4cHJlc3Npb25zIHRoYXQgY29udGFpbnMgdGhlIGxhc3QgcGFyZW50aGVzaXplZCBzdWJzdHJpbmcgbWF0Y2gsIGlmIGFueS4gUmVnRXhwLiQrIGlzIGFuIGFsaWFzIGZvciB0aGlzIHByb3BlcnR5LlxuXHQgKlxuXHQgKiBAYWxpYXMgJCtcblx0ICovXG5cdHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgbGFzdFBhcmVuOiBzdHJpbmc7XG5cdC8qKlxuXHQgKiBUaGUgbm9uLXN0YW5kYXJkIGxhc3RNYXRjaCBwcm9wZXJ0eSBpcyBhIHN0YXRpYyBhbmQgcmVhZC1vbmx5IHByb3BlcnR5IG9mIHJlZ3VsYXIgZXhwcmVzc2lvbnMgdGhhdCBjb250YWlucyB0aGUgbGFzdCBtYXRjaGVkIGNoYXJhY3RlcnMuIFJlZ0V4cC4kJiBpcyBhbiBhbGlhcyBmb3IgdGhpcyBwcm9wZXJ0eS5cblx0ICpcblx0ICogQGFsaWFzICQmXG5cdCAqL1xuXHRwdWJsaWMgc3RhdGljIHJlYWRvbmx5IGxhc3RNYXRjaDogc3RyaW5nO1xuXHQvKipcblx0ICogVGhlIG5vbi1zdGFuZGFyZCBpbnB1dCBwcm9wZXJ0eSBpcyBhIHN0YXRpYyBwcm9wZXJ0eSBvZiByZWd1bGFyIGV4cHJlc3Npb25zIHRoYXQgY29udGFpbnMgdGhlIHN0cmluZyBhZ2FpbnN0IHdoaWNoIGEgcmVndWxhciBleHByZXNzaW9uIGlzIG1hdGNoZWQuIFJlZ0V4cC4kXyBpcyBhbiBhbGlhcyBmb3IgdGhpcyBwcm9wZXJ0eS5cblx0ICpcblx0ICogQGFsaWFzICRfXG5cdCAqL1xuXHRwdWJsaWMgc3RhdGljIHJlYWRvbmx5IGlucHV0OiBzdHJpbmc7XG5cblx0LyoqXG5cdCAqIGRlZmF1bHQgdmFsdWUgb25seSBleGlzdHMgYW5kIHdvcmsgd2hlbiB1c2UgYHpoUmVnRXhwLnVzZShkZWZhdWx0T3B0aW9ucylgXG5cdCAqL1xuXHRwdWJsaWMgc3RhdGljIHJlYWRvbmx5IFtTeW1EZWZhdWx0c106IElPcHRpb25zSW5wdXQ7XG5cblx0LyoqXG5cdCAqIGNyZWF0ZSBhIG5ldyB6aFJlZ0V4cCBjbGFzcyB3aXRoIGRlZmF1bHQgdmFsdWVcblx0ICogQGV4YW1wbGUgYHpoUmVnRXhwLnVzZShkZWZhdWx0T3B0aW9ucylgXG5cdCAqL1xuXHRzdGF0aWMgdXNlKGRlZmF1bHRPcHRpb25zOiBJT3B0aW9uc0lucHV0KTogdHlwZW9mIHpoUmVnRXhwXG5cdHtcblx0XHRkZWZhdWx0T3B0aW9ucyA9IG1lcmdlT3B0aW9ucyh7fSwgdGhpc1tTeW1EZWZhdWx0c10sIGRlZmF1bHRPcHRpb25zKTtcblxuXHRcdGNvbnN0IHpoUmVnRXhwTmV3ID0gbmV3IFByb3h5KHpoUmVnRXhwLCB7XG5cdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRjb25zdHJ1Y3QodGFyZ2V0OiB0eXBlb2YgemhSZWdFeHAsIGFyZ0FycmF5OiB1bmtub3duLCBuZXdUYXJnZXQ/OiBhbnkpXG5cdFx0XHR7XG5cdFx0XHRcdGxldCB7IHN0ciwgZmxhZ3MsIG9wdGlvbnMsIGFyZ3YgfSA9IGdldFNldHRpbmdPcHRpb25zKC4uLmFyZ0FycmF5IGFzIFthbnksIGFueV0pO1xuXG5cdFx0XHRcdG9wdGlvbnMgPSBtZXJnZU9wdGlvbnMoe30sIGRlZmF1bHRPcHRpb25zLCBvcHRpb25zKTtcblxuXHRcdFx0XHRyZXR1cm4gbmV3IHpoUmVnRXhwKHN0ciwgZmxhZ3MsIG9wdGlvbnMsIC4uLmFyZ3YpO1xuXHRcdFx0fSxcblxuXHRcdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdFx0Z2V0KHRhcmdldDoga2V5b2YgemhSZWdFeHAsIGtleToga2V5b2YgemhSZWdFeHAgfHR5cGVvZiBTeW1EZWZhdWx0cylcblx0XHRcdHtcblx0XHRcdFx0aWYgKGtleSA9PT0gU3ltRGVmYXVsdHMpXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRyZXR1cm4gZGVmYXVsdE9wdGlvbnNcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiB0YXJnZXRba2V5XTtcblx0XHRcdH0sXG5cblx0XHR9KTtcblxuXHRcdHJldHVybiB6aFJlZ0V4cE5ld1xuXHR9XG5cblx0Y29uc3RydWN0b3Ioc3RyOiBzdHJpbmcgfCBSZWdFeHAsIGZsYWdzPzogc3RyaW5nLCBvcHRpb25zPzogSU9wdGlvbnNJbnB1dCB8IHN0cmluZywgLi4uYXJndilcblx0Y29uc3RydWN0b3Ioc3RyOiBzdHJpbmcgfCBSZWdFeHAsIG9wdGlvbnM/OiBJT3B0aW9uc0lucHV0LCAuLi5hcmd2KVxuXHRjb25zdHJ1Y3RvcihzdHIsIF9mbGFncyA9IG51bGwsIG9wdGlvbnM6IElPcHRpb25zSW5wdXQgfCBzdHJpbmcgPSB7fSwgLi4uYXJndilcblx0e1xuXHRcdGxldCB7IHNvdXJjZSwgZmxhZ3MgfSA9IGNvcmVIYW5kbGVyKHN0ciwgX2ZsYWdzLCBvcHRpb25zLCAuLi5hcmd2KTtcblxuXHRcdHN1cGVyKHNvdXJjZSwgZmxhZ3MpO1xuXHR9XG5cblx0c3RhdGljIGNyZWF0ZTxUID0gemhSZWdFeHA+KHN0cjogc3RyaW5nIHwgUmVnRXhwLCBmbGFncz86IHN0cmluZywgb3B0aW9ucz86IElPcHRpb25zSW5wdXQgfCBzdHJpbmcpOiBUXG5cdHN0YXRpYyBjcmVhdGU8VCA9IHpoUmVnRXhwPihzdHI6IHN0cmluZyB8IFJlZ0V4cCwgb3B0aW9ucz86IElPcHRpb25zSW5wdXQpOiBUXG5cdHN0YXRpYyBjcmVhdGU8VCA9IHpoUmVnRXhwPihzdHIsIGZsYWdzID0gbnVsbCwgc2tpcD8sIC4uLmFyZ3YpXG5cdHtcblx0XHRyZXR1cm4gbmV3IHRoaXMoc3RyLCBmbGFncywgc2tpcCwgLi4uYXJndik7XG5cdH1cblxuXHRnZXRTdGF0aWM8VCA9IHR5cGVvZiB6aFJlZ0V4cD4oKTogVFxuXHR7XG5cdFx0cmV0dXJuIE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAdG9kb1xuXHQgKi9cblx0dG9SZWd1bGFyRXhwcmVzc2lvblN0cmluZygpXG5cdHtcblx0XHRyZXR1cm4gdGhpcy50b1N0cmluZygpO1xuXHRcdC8vcmV0dXJuIGAvJHt0aGlzLnNvdXJjZX0vJHt0aGlzLmZsYWdzfWA7XG5cdH1cblxuXHRzdGF0aWMgcGFyc2VSZWd1bGFyRXhwcmVzc2lvblN0cmluZyhzdHI6IHN0cmluZylcblx0e1xuXHRcdHJldHVybiBwYXJzZVJlZ3VsYXJFeHByZXNzaW9uU3RyaW5nKHN0cik7XG5cdH1cblxuXHRzdGF0aWMgZ2V0IHN1cHBvcnQoKVxuXHR7XG5cdFx0cmV0dXJuIHJlcXVpcmUoJ3JlZ2V4cC1zdXBwb3J0JykuZGVmYXVsdCBhcyB0eXBlb2YgaW1wb3J0KCdyZWdleHAtc3VwcG9ydCcpLmRlZmF1bHQ7XG5cdH1cblxuXHRzdGF0aWMgZ2V0IHZlcnNpb24oKTogc3RyaW5nXG5cdHtcblx0XHRyZXR1cm4gcmVxdWlyZSgnLi9wYWNrYWdlLmpzb24nKS52ZXJzaW9uXG5cdH1cbn1cblxuZXhwb3J0IG5hbWVzcGFjZSB6aFJlZ0V4cFxue1xuXHRleHBvcnQgaW1wb3J0IGlzUmVnRXhwID0gUmVnZXhwSGVscGVyLmlzUmVnRXhwO1xufVxuXG5leHBvcnQgY29uc3QgY3JlYXRlID0gemhSZWdFeHAuY3JlYXRlLmJpbmQoemhSZWdFeHApIGFzIHR5cGVvZiB6aFJlZ0V4cC5jcmVhdGU7XG5cbmV4cG9ydCB7IGlzUmVnRXhwLCBwYXJzZVJlZ3VsYXJFeHByZXNzaW9uU3RyaW5nIH1cblxuZXhwb3J0IGludGVyZmFjZSBJQXBpPFQgPSB6aFJlZ0V4cD5cbntcblx0KHN0cjogc3RyaW5nIHwgUmVnRXhwLCBmbGFncz86IHN0cmluZywgb3B0aW9ucz86IElPcHRpb25zIHwgc3RyaW5nKTogVCxcblx0KHN0cjogc3RyaW5nIHwgUmVnRXhwLCBvcHRpb25zPzogSU9wdGlvbnMpOiBULFxufVxuXG4vLyBAdHMtaWdub3JlXG5leHBvcnQgY29uc3QgdmVyc2lvbjogc3RyaW5nO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJ2ZXJzaW9uXCIsIHtcblx0Z2V0KClcblx0e1xuXHRcdHJldHVybiByZXF1aXJlKCcuL3BhY2thZ2UuanNvbicpLnZlcnNpb25cblx0fVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IHpoUmVnRXhwO1xuIl19